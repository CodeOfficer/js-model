Model.Collection=function(g){var d=function(a){this.collection=a||[]},f=function(a){return new d(a)};d.prototype=$.extend({add:function(){for(var a=0;a<arguments.length;a++)this.collection.push(arguments[a]);return this},all:function(){return this.collection},detect:function(a){return _.detect(this.collection,function(b,c){return a.call(b,c)})||null},each:function(a){$.each(this.collection,function(b){a.call(this,b)});return this},find:function(a){return this.detect(function(){return this.id()==a})},
first:function(){return this.collection[0]||null},last:function(){return this.collection[this.collection.length-1]||null},remove:function(a){var b=_.invoke(this.collection,"id");a=_.indexOf(b,a);if(a>-1){this.collection.splice(a,1);return true}else return false},select:function(a){var b=_.select(this.collection,function(c,e){return a.call(c,e)});return f(b)},sort:function(a){var b=_.sortBy(this.collection,function(c,e){return a.call(c,e)});return f(b)}},g);return new d};
