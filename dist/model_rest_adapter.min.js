Model.RestAdapter=function(h,i){var g=function(){this.resource=h};g.prototype=$.extend({create:function(a,c,b){var f=this;return this.xhr("POST",this.create_path(a),a,function(d,e){d.attributes.id=f.idFromLocation(e.getResponseHeader("Location"));c&&c(d,e)},b)},create_path:function(){return this.resource},destroy:function(a,c,b){return this.xhr("DELETE",this.update_path(a),null,c,b)},idFromLocation:function(a){return(a=a.match(/\/(\d+)$/)[1])?parseInt(a):null},update:function(a,c,b){return this.xhr("PUT",
this.update_path(a),a,c,b)},update_path:function(a){return[this.resource,a.id()].join("/")},xhr:function(a,c,b,f,d){return $.ajax({type:a,url:c,data:b?b.toParam():null,complete:function(e,j){if(f&&j=="success")f(b,e);else d&&d(b,e)}})}},i);return new g};
